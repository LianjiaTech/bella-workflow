{
  "graph": {
    "edges": [
      {
        "data": {
          "sourceType": "start",
          "targetType": "llm"
        },
        "id": "1716645578090-1716645619777",
        "source": "1716645578090",
        "sourceHandle": "source",
        "target": "1716645619777",
        "targetHandle": "target",
        "type": "custom"
      },
      {
        "data": {
          "sourceType": "llm",
          "targetType": "end"
        },
        "id": "1716645619777-1716645626416",
        "source": "1716645619777",
        "sourceHandle": "source",
        "target": "1716645626416",
        "targetHandle": "target",
        "type": "custom"
      }
    ],
    "nodes": [
      {
        "data": {
          "desc": "",
          "selected": false,
          "title": "开始",
          "type": "start",
          "variables": [
            {
              "label": "appliance_type",
              "max_length": 48,
              "options": [],
              "required": true,
              "type": "text-input",
              "variable": "appliance_type"
            },
            {
              "label": "context",
              "max_length": 48,
              "options": [],
              "required": true,
              "type": "text-input",
              "variable": "context"
            }
          ]
        },
        "height": 116,
        "id": "1716645578090",
        "position": {
          "x": 746.5199957836538,
          "y": 258.10079711143266
        },
        "positionAbsolute": {
          "x": 746.5199957836538,
          "y": 258.10079711143266
        },
        "selected": false,
        "sourcePosition": "right",
        "targetPosition": "left",
        "type": "custom",
        "width": 244
      },
      {
        "data": {
          "authorization": {
            "apiKey": "QFxGZFXoMoyWEC0iL7JhBGsoljtskZ9u"
          },
          "desc": "",
          "model": {
            "completion_params": {
              "temperature": 0.7
            },
            "mode": "chat",
            "name": "gpt-4",
            "provider": "openai"
          },
          "prompt_config": {
            "jinja2_variables": [
              {
                "value_selector": [
                  "sys",
                  "user_id"
                ],
                "variable": "user_id"
              },
              {
                "value_selector": [
                  "1716645578090",
                  "appliance_type"
                ],
                "variable": "appliance_type"
              }
            ]
          },
          "prompt_template": [
            {
              "edition_type": "basic",
              "id": "d69a4667-4853-4a80-8e6a-72ccb22e5c59",
              "role": "system",
              "text": "你是一位资深的家电导购，以下是你本次需要推荐的家电清单， 根据用户的需求推荐对应的家电产品\n{{#1716645578090.context#}}"
            },
            {
              "edition_type": "jinja2",
              "id": "35b77449-7512-496a-8c60-34eb8815cc23",
              "jinja2_text": "我想买家电的家电的类型是：{{ appliance_type }}",
              "role": "user",
              "text": "{{#1716645578090.appliance_type#}}"
            }
          ],
          "selected": false,
          "title": "LLM",
          "type": "llm",
          "variables": [],
          "vision": {
            "enabled": false
          }
        },
        "height": 98,
        "id": "1716645619777",
        "position": {
          "x": 1110.8294980230212,
          "y": 258.10079711143266
        },
        "positionAbsolute": {
          "x": 1110.8294980230212,
          "y": 258.10079711143266
        },
        "selected": false,
        "sourcePosition": "right",
        "targetPosition": "left",
        "type": "custom",
        "width": 244
      },
      {
        "data": {
          "desc": "",
          "outputs": [
            {
              "value_selector": [
                "1716645578090",
                "appliance_type"
              ],
              "variable": "appliance"
            },
            {
              "value_selector": [
                "1716645619777",
                "text"
              ],
              "variable": "llm_output"
            }
          ],
          "selected": false,
          "title": "结束",
          "type": "end"
        },
        "height": 116,
        "id": "1716645626416",
        "position": {
          "x": 1469.7490730358131,
          "y": 258.10079711143266
        },
        "positionAbsolute": {
          "x": 1469.7490730358131,
          "y": 258.10079711143266
        },
        "selected": true,
        "sourcePosition": "right",
        "targetPosition": "left",
        "type": "custom",
        "width": 244
      }
    ],
    "viewport": {
      "x": -265.30906361713414,
      "y": 162.14384216040327,
      "zoom": 0.5799498272527193
    }
  }
}
